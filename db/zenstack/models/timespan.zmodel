import "./calendar"
import "./common"

model Timespan extends ReferenceLink, Description {
  id Int @id @default(autoincrement())

  title String
  startDate DateTime
  endDate DateTime
  color String

  calendarId String
  calendar Calendar @relation(fields: [calendarId], references: [id], onDelete: Cascade)

  /* Правила повторяют правила календаря */
  @@allow('read', calendar.visibility != hidden || auth() == calendar.user)
  @@allow('all', auth() == calendar.user)
}
