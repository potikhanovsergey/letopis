import "./calendar"

model Event {
  id Int @id @default(autoincrement())
  title String
  date DateTime
  icon String

  calendarId String
  calendar Calendar @relation(fields: [calendarId], references: [id], onDelete: Cascade)

  /* Правила повторяют правила календаря */
  @@allow('read', calendar.visiiblity != hidden || auth() == calendar.user)
  @@allow('all', auth() == calendar.user)
}